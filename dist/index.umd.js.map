{"version":3,"file":"index.umd.js","sources":["../src/util.ts","../src/StrokeManager.ts","../src/Manager.ts","../src/tools/PenTool.ts","../src/tools/EraserTool.ts","../node_modules/color-name/index.js","../node_modules/color-parse/index.mjs","../node_modules/color-alpha/index.mjs","../src/tools/HighlighterTool.ts"],"sourcesContent":["import { IPoint } from \"./types\";\n\n/**\n * Get the distance between two points\n * @param p1\n * @param p2\n * @returns number\n */\nexport function getEuclidean(p1: IPoint, p2: IPoint): number {\n  return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n}\n\n/**\n * Gets the unit vector representing the vector from start\n * point to end point with a length of 1.\n * @param startPoint\n * @param endPoint\n * @returns IPoint\n */\nexport function getUnitVector(startPoint: IPoint, endPoint: IPoint): IPoint {\n  const length = getEuclidean(startPoint, endPoint);\n\n  const dirVect = {\n    x: endPoint.x - startPoint.x,\n    y: endPoint.y - startPoint.y,\n  };\n\n  const unitVect: IPoint = {\n    x: dirVect.x / length,\n    y: dirVect.y / length,\n  };\n\n  return unitVect;\n}\n","import { IPoint, IStrokePart } from \"./types\";\nimport { getEuclidean } from \"./util\";\n\nexport interface IOnStrokePartHandler {\n  (strokePart: IStrokePart): void;\n}\n\nexport interface ITouch {\n  id: number;\n  position: IPoint;\n}\n\nexport class StrokeManager {\n  // reference to canvas element\n  private canvas: HTMLCanvasElement;\n  // holds last touch point in a drag\n  private lastTouch: ITouch | null;\n  // holds last mouse point in drag\n  private lastMouse: IPoint | null;\n  // value indicates how sensitive the stroke detection is higher is better\n  private sensitivity: number;\n  // holds all of the last emitted stroke parts in a drag\n  private lastStrokeParts: IStrokePart[];\n  // the handlers listening for new strokes\n  private onStrokePartHandlers: IOnStrokePartHandler[];\n\n  constructor(canvas: HTMLCanvasElement) {\n    this.canvas = canvas;\n    this.lastTouch = null;\n    this.lastMouse = null;\n    this.sensitivity = 20.0;\n    this.lastStrokeParts = [];\n    this.onStrokePartHandlers = [];\n\n    this.onTouchStart = this.onTouchStart.bind(this);\n    this.onTouchEnd = this.onTouchEnd.bind(this);\n    this.onTouchCancel = this.onTouchCancel.bind(this);\n    this.onTouchMove = this.onTouchMove.bind(this);\n    this.destroy = this.destroy.bind(this);\n    this.getRelativePosition = this.getRelativePosition.bind(this);\n    this.onMouseDown = this.onMouseDown.bind(this);\n    this.onMouseUp = this.onMouseUp.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n\n    this.canvas.addEventListener(\"touchstart\", this.onTouchStart, {\n      passive: false,\n    });\n    this.canvas.addEventListener(\"touchend\", this.onTouchEnd, {\n      passive: false,\n    });\n    this.canvas.addEventListener(\"touchcancel\", this.onTouchCancel, {\n      passive: false,\n    });\n    this.canvas.addEventListener(\"touchmove\", this.onTouchMove, {\n      passive: false,\n    });\n    this.canvas.addEventListener(\"mousedown\", this.onMouseDown, {\n      passive: false,\n    });\n    document.addEventListener(\"mouseup\", this.onMouseUp, {\n      passive: false,\n    });\n    this.canvas.addEventListener(\"mousemove\", this.onMouseMove, {\n      passive: false,\n    });\n  }\n\n  /**\n   * Registers a handler to be fired on a new stroke part\n   * @param handler\n   */\n  public onStrokePart(handler: IOnStrokePartHandler): void {\n    this.onStrokePartHandlers.push(handler);\n  }\n\n  /**\n   * Removes all active listeners\n   */\n  public destroy(): void {\n    this.onStrokePartHandlers = [];\n    this.lastStrokeParts = [];\n    this.canvas.removeEventListener(\"touchstart\", this.onTouchStart);\n    this.canvas.removeEventListener(\"touchend\", this.onTouchEnd);\n    this.canvas.removeEventListener(\"touchcancel\", this.onTouchCancel);\n    this.canvas.removeEventListener(\"touchmove\", this.onTouchMove);\n    this.canvas.removeEventListener(\"mousedown\", this.onMouseDown);\n    document.removeEventListener(\"mouseup\", this.onMouseUp);\n    this.canvas.removeEventListener(\"mousemove\", this.onMouseMove);\n  }\n\n  /**\n   * Get relative position to canvas\n   * @param clientX\n   * @param clientY\n   * @returns IPoint\n   */\n  private getRelativePosition(clientX: number, clientY: number): IPoint {\n    const rect = this.canvas.getBoundingClientRect();\n\n    return {\n      x: (clientX - rect.left) / rect.width,\n      y: (clientY - rect.top) / rect.height,\n    };\n  }\n\n  /**\n   * Creates a new touch if one does not\n   * already exist\n   * @param e\n   */\n  private onTouchStart(e: TouchEvent): void {\n    e.preventDefault();\n\n    // if there is an ongoing touch, ignore this event\n    if (this.lastTouch) {\n      return;\n    }\n\n    const touches: TouchList = e.changedTouches;\n\n    // only get the first touch\n    const touch = touches.item(0);\n\n    // save the touch\n    this.lastTouch = {\n      id: touch.identifier,\n      position: this.getRelativePosition(touch.clientX, touch.clientY),\n    };\n  }\n\n  /**\n   * Creates a line from last touch to current touch\n   * point and emits event. Does no-op if no existing touch\n   * @param e\n   */\n  private onTouchMove(e: TouchEvent): void {\n    e.preventDefault();\n\n    // if no last touch... something is wrong\n    if (!this.lastTouch) {\n      return;\n    }\n\n    const touches: TouchList = e.changedTouches;\n\n    // find the current touch we are tracking\n    const touch: Touch = Array.from(touches).find((touch) => {\n      return touch.identifier === this.lastTouch.id;\n    });\n\n    // if the touch was not one we were tracking,\n    // ignore and no-op\n    if (!touch) {\n      return;\n    }\n\n    const nextTouch: ITouch = {\n      id: touch.identifier,\n      position: this.getRelativePosition(touch.clientX, touch.clientY),\n    };\n\n    // If sensitivity setting has been set,\n    // check if this point is far enough from last\n    // touch to be drawn\n    if (\n      this.sensitivity &&\n      getEuclidean(nextTouch.position, this.lastTouch.position) <\n        10.0 / this.sensitivity\n    ) {\n      return;\n    }\n\n    const strokePart: IStrokePart = {\n      endPoint: nextTouch.position,\n      startPoint: this.lastTouch.position,\n      isStart: this.lastStrokeParts.length === 0,\n      isEnd: false,\n    };\n\n    this.onStrokePartHandlers.forEach((handler) => {\n      handler(strokePart);\n    });\n\n    // save this touch as last touch\n    this.lastTouch = nextTouch;\n    this.lastStrokeParts.push(strokePart);\n  }\n\n  /**\n   * Draws a line from last point to final point. Removes\n   * the reference to last touch point.\n   * @param e\n   */\n  private onTouchEnd(e: TouchEvent): void {\n    e.preventDefault();\n\n    // if no last touch... something is wrong\n    if (!this.lastTouch) {\n      return;\n    }\n\n    const touches: TouchList = e.changedTouches;\n\n    // find the current touch we are tracking\n    const touch: Touch = Array.from(touches).find((touch) => {\n      return touch.identifier === this.lastTouch.id;\n    });\n\n    // if the touch was not one we were tracking,\n    // ignore and no-op\n    if (!touch) {\n      return;\n    }\n\n    const endPoint = this.getRelativePosition(touch.clientX, touch.clientY);\n\n    const strokePart: IStrokePart = {\n      startPoint: this.lastTouch.position,\n      endPoint,\n      isStart: false,\n      isEnd: true,\n    };\n\n    this.onStrokePartHandlers.forEach((handler) => {\n      handler(strokePart);\n    });\n\n    this.lastTouch = null;\n    this.lastStrokeParts = [];\n  }\n\n  /**\n   * Removes the current last touch point\n   * @param e\n   */\n  private onTouchCancel(e: TouchEvent): void {\n    e.preventDefault();\n    this.lastTouch = null;\n    this.lastStrokeParts = [];\n  }\n\n  private onMouseDown(e: MouseEvent): void {\n    // if there is an ongoing drag, ignore this event\n    if (this.lastMouse) {\n      return;\n    }\n\n    // save the drag\n    this.lastMouse = this.getRelativePosition(e.clientX, e.clientY);\n  }\n\n  private onMouseUp(e: MouseEvent): void {\n    // if no last mouse... something is wrong\n    if (!this.lastMouse) {\n      return;\n    }\n\n    let endPoint = this.getRelativePosition(e.clientX, e.clientY);\n\n    const d = getEuclidean(this.lastMouse, endPoint);\n\n    // if line is less than 1 pixel length, generate a fake line\n    if (d < 1) {\n      endPoint = {\n        x: this.lastMouse.x + 0.0008,\n        y: this.lastMouse.y + 0.0008,\n      };\n    }\n\n    const strokePart: IStrokePart = {\n      startPoint: this.lastMouse,\n      endPoint: endPoint,\n      isStart: false,\n      isEnd: true,\n    };\n\n    this.onStrokePartHandlers.forEach((handler) => {\n      handler(strokePart);\n    });\n\n    this.lastMouse = null;\n    this.lastStrokeParts = [];\n  }\n\n  private onMouseMove(e: MouseEvent): void {\n    // if no last drag... something is wrong\n    if (!this.lastMouse) {\n      return;\n    }\n\n    const nextMouse = this.getRelativePosition(e.clientX, e.clientY);\n\n    // If sensitivity setting has been set,\n    // check if this point is far enough from last\n    // drag to be drawn\n    if (\n      this.sensitivity &&\n      getEuclidean(nextMouse, this.lastMouse) < 0.05 / this.sensitivity\n    ) {\n      return;\n    }\n\n    const strokePart: IStrokePart = {\n      endPoint: nextMouse,\n      startPoint: this.lastMouse,\n      isStart: this.lastStrokeParts.length === 0,\n      isEnd: false,\n    };\n\n    this.onStrokePartHandlers.forEach((handler) => {\n      handler(strokePart);\n    });\n\n    // save this drag as last drag\n    this.lastMouse = nextMouse;\n    this.lastStrokeParts.push(strokePart);\n  }\n}\n","import { IStrokePart, ITool } from \"./types\";\nimport { StrokeManager } from \"./StrokeManager\";\n\nexport class Manager {\n  // reference to the canvas\n  private canvas: HTMLCanvasElement;\n  // reference to canvas rendering context\n  private ctx: CanvasRenderingContext2D | null;\n  // reference to stroke manager\n  private strokeManager: StrokeManager;\n  // holds the pixel ratio between canvas backing\n  // store and device ratio (used for hi fi displays)\n  private pixelRatio: number;\n  // the width of the canvas\n  private canvasWidth: number;\n  // the height of the canvas\n  private canvasHeight: number;\n  // holds a reference to next animation frame\n  private nextAnimationFrame: number;\n  // the currently selected tool\n  private currentTool: ITool | null;\n  // holds stroke parts for ongoing stroke\n  private currentStroke: IStrokePart[];\n  // the state of the canvas (not including ongoing stroke)\n  private canvasState: ImageData | null;\n  // indicates whether changes have occured that require redraw\n  private shouldDraw: boolean;\n  // indicates whether canvas should commit its next draw state to current state\n  private shouldCommit: boolean;\n  // holds handlers for canvas state changes\n  private onStateChangeHandlers: (() => void)[];\n\n  constructor(\n    canvas: HTMLCanvasElement,\n    canvasWidth: number,\n    canvasHeight: number,\n  ) {\n    this.canvas = canvas;\n    this.ctx = canvas.getContext(\"2d\", { willReadFrequently: true });\n    this.canvasWidth = canvasWidth;\n    this.canvasHeight = canvasHeight;\n    this.currentTool = null;\n    this.currentStroke = [];\n    this.strokeManager = new StrokeManager(canvas);\n    this.canvasState = null;\n    this.shouldDraw = false;\n    this.shouldCommit = false;\n    this.onStateChangeHandlers = [];\n\n    // find pixel ratio relative to backing store and device ratio\n    const bsr = (this.ctx as any).backingStorePixelRatio || 1;\n    const dpr = window.devicePixelRatio || 1;\n    this.pixelRatio = dpr / bsr;\n\n    this.setCanvasSize = this.setCanvasSize.bind(this);\n    this.setTool = this.setTool.bind(this);\n    this.destroy = this.destroy.bind(this);\n    this.clear = this.clear.bind(this);\n    this.draw = this.draw.bind(this);\n    this.onStrokePart = this.onStrokePart.bind(this);\n\n    // schedule animation frame loop\n    this.nextAnimationFrame = window.requestAnimationFrame(this.draw);\n    // set up listener for new stroke part\n    this.strokeManager.onStrokePart(this.onStrokePart);\n\n    this.setCanvasSize(canvasWidth, canvasHeight);\n  }\n\n  /**\n   * Sets the canvas desired width and height and sets transform\n   * for hifi displays\n   * @param width\n   * @param height\n   */\n  public setCanvasSize(width: number, height: number): void {\n    this.canvasWidth = width;\n    this.canvasHeight = height;\n\n    const { ctx, canvas, canvasWidth, canvasHeight, pixelRatio } = this;\n\n    if (!ctx) return;\n\n    // appropriately scale canvas to map to device ratio\n    canvas.width = canvasWidth * pixelRatio;\n    canvas.height = canvasHeight * pixelRatio;\n    canvas.style.width = canvasWidth + \"px\";\n    canvas.style.height = canvasHeight + \"px\";\n    ctx.scale(pixelRatio, pixelRatio);\n  }\n\n  /**\n   * Sets the current tool for the manager\n   * @param tool\n   */\n  public setTool(tool: ITool): void {\n    this.currentTool = tool;\n  }\n\n  /**\n   * Remove all event listeners\n   */\n  public destroy(): void {\n    // cancel animation loop\n    window.cancelAnimationFrame(this.nextAnimationFrame);\n    // remove all listeners on stroke manager\n    this.strokeManager.destroy();\n    // remove all change listeners\n    this.onStateChangeHandlers = [];\n  }\n\n  /**\n   * Clears the canvas\n   */\n  public clear(): void {\n    this.canvasState = null;\n    this.currentStroke = [];\n    this.shouldDraw = true;\n    this.shouldCommit = true;\n  }\n\n  /**\n   * Get the current canvas state\n   * @returns ImageData | null\n   */\n  public getCanvasState(): ImageData | null {\n    return this.canvasState;\n  }\n\n  /**\n   * Add listener for state changes\n   * @param handler\n   */\n  public onStateChange(handler: () => void): void {\n    this.onStateChangeHandlers.push(handler);\n  }\n\n  /**\n   * Adds a new stroke part to the nextStrokes\n   * array\n   * @param strokePart\n   */\n  private onStrokePart(strokePart: IStrokePart): void {\n    this.currentStroke.push(strokePart);\n\n    this.shouldDraw = true;\n\n    if (strokePart.isEnd) {\n      this.shouldCommit = true;\n    }\n  }\n\n  /**\n   * Draws a frame\n   */\n  private draw(): void {\n    // schedule next draw\n    this.nextAnimationFrame = window.requestAnimationFrame(this.draw);\n\n    const { ctx, canvasWidth, canvasHeight } = this;\n\n    if (!this.shouldDraw || !ctx) {\n      return;\n    }\n\n    // clear canvas\n    ctx.clearRect(0, 0, this.canvasWidth, this.canvasHeight);\n\n    // draw current state\n    if (this.canvasState) {\n      ctx.putImageData(this.canvasState, 0, 0);\n    }\n\n    // if a tool has been selected and there are\n    // pending strokes, draw them\n    if (this.currentTool && this.currentStroke.length) {\n      ctx.save();\n      this.currentTool.draw(ctx, this.currentStroke, canvasWidth, canvasHeight);\n      ctx.restore();\n    }\n\n    // if all changes have been made for current stroke,\n    // save it as the new canvas state\n    if (this.shouldCommit) {\n      this.canvasState = ctx.getImageData(\n        0,\n        0,\n        canvasWidth * this.pixelRatio,\n        canvasHeight * this.pixelRatio,\n      );\n      this.currentStroke = [];\n      this.shouldCommit = false;\n\n      this.onStateChangeHandlers.forEach((handler) => handler());\n    }\n\n    this.shouldDraw = false;\n  }\n}\n","import { IStrokePart } from \"../types\";\n\nexport class PenTool {\n  readonly color: string;\n  readonly width: number;\n\n  constructor(color: string = \"red\", width: number = 3) {\n    this.color = color;\n    this.width = width;\n  }\n\n  /**\n   * Draws a \"pen stroke\" for all line segments\n   * @param ctx\n   * @param strokeParts\n   */\n  public draw(\n    ctx: CanvasRenderingContext2D,\n    strokeParts: IStrokePart[],\n    canvasWidth: number,\n    canvasHeight: number,\n  ): void {\n    const firstPart = strokeParts[0];\n\n    ctx.beginPath();\n\n    ctx.lineWidth = this.width;\n    ctx.strokeStyle = this.color;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n\n    ctx.moveTo(\n      firstPart.startPoint.x * canvasWidth,\n      firstPart.startPoint.y * canvasHeight,\n    );\n\n    strokeParts.forEach((strokePart) => {\n      const { endPoint } = strokePart;\n      ctx.lineTo(endPoint.x * canvasWidth, endPoint.y * canvasHeight);\n    });\n\n    ctx.stroke();\n  }\n}\n","import { IStrokePart, IPoint } from \"../types\";\nimport { getUnitVector, getEuclidean } from \"../util\";\n\nexport interface IHandleOptions {\n  hide: boolean;\n  strokeWidth: number;\n  fillColor: string;\n  strokeColor: string;\n}\n\nexport class EraserTool {\n  readonly width: number;\n  readonly handleOpts: IHandleOptions;\n\n  constructor(width: number = 10, handleOpts?: Partial<IHandleOptions>) {\n    this.width = width;\n\n    handleOpts = handleOpts || {};\n\n    this.handleOpts = {\n      hide: handleOpts.hide || false,\n      strokeWidth: handleOpts.strokeWidth || 2,\n      fillColor: handleOpts.fillColor || \"white\",\n      strokeColor: handleOpts.strokeColor || \"black\",\n    };\n  }\n\n  /**\n   * Draws an \"eraser stroke\" for all line segments\n   * @param ctx\n   * @param strokeParts\n   */\n  public draw(\n    ctx: CanvasRenderingContext2D,\n    strokeParts: IStrokePart[],\n    canvasWidth: number,\n    canvasHeight: number,\n  ): void {\n    const { handleOpts } = this;\n    const halfWidth = this.width / 2.0;\n\n    strokeParts.forEach((strokePart) => {\n      const { startPoint, endPoint } = strokePart;\n\n      const length = getEuclidean(startPoint, endPoint);\n      const unitVect: IPoint = getUnitVector(startPoint, endPoint);\n      let currentPoint: IPoint = startPoint;\n      let i = 0;\n\n      // clear all the way along the drag\n      while (i < length) {\n        const nextPoint: IPoint = {\n          x: currentPoint.x * canvasWidth + unitVect.x,\n          y: currentPoint.y * canvasHeight + unitVect.y,\n        };\n\n        ctx.clearRect(\n          nextPoint.x - halfWidth,\n          nextPoint.y - halfWidth,\n          this.width,\n          this.width,\n        );\n\n        i++;\n        currentPoint = nextPoint;\n      }\n    });\n\n    const lastPart = strokeParts[strokeParts.length - 1];\n\n    // if the end is not the last part, then draw\n    // the tool indicator at the endpoint\n    if (!lastPart.isEnd && !handleOpts.hide) {\n      ctx.strokeStyle = handleOpts.strokeColor;\n      ctx.fillStyle = handleOpts.fillColor;\n\n      const lastEndPoint = {\n        x: lastPart.endPoint.x * canvasWidth,\n        y: lastPart.endPoint.y * canvasHeight,\n      };\n\n      ctx.fillRect(\n        lastEndPoint.x - halfWidth,\n        lastEndPoint.y - halfWidth,\n        this.width,\n        this.width,\n      );\n\n      ctx.strokeRect(\n        lastEndPoint.x - halfWidth + 0.5,\n        lastEndPoint.y - halfWidth + 0.5,\n        this.width - 1,\n        this.width - 1,\n      );\n    }\n  }\n}\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","/**\n * @module color-parse\n */\nimport names from 'color-name'\n\nexport default parse\n\n/**\n * Base hues\n * http://dev.w3.org/csswg/css-color/#typedef-named-hue\n */\n//FIXME: use external hue detector\nvar baseHues = {\n\tred: 0,\n\torange: 60,\n\tyellow: 120,\n\tgreen: 180,\n\tblue: 240,\n\tpurple: 300\n}\n\n/**\n * Parse color from the string passed\n *\n * @return {Object} A space indicator `space`, an array `values` and `alpha`\n */\nfunction parse(cstr) {\n\tvar m, parts = [], alpha = 1, space\n\n\tif (typeof cstr === 'string') {\n\t\tcstr = cstr.toLowerCase();\n\n\t\t//keyword\n\t\tif (names[cstr]) {\n\t\t\tparts = names[cstr].slice()\n\t\t\tspace = 'rgb'\n\t\t}\n\n\t\t//reserved words\n\t\telse if (cstr === 'transparent') {\n\t\t\talpha = 0\n\t\t\tspace = 'rgb'\n\t\t\tparts = [0, 0, 0]\n\t\t}\n\n\t\t//hex\n\t\telse if (/^#[A-Fa-f0-9]+$/.test(cstr)) {\n\t\t\tvar base = cstr.slice(1)\n\t\t\tvar size = base.length\n\t\t\tvar isShort = size <= 4\n\t\t\talpha = 1\n\n\t\t\tif (isShort) {\n\t\t\t\tparts = [\n\t\t\t\t\tparseInt(base[0] + base[0], 16),\n\t\t\t\t\tparseInt(base[1] + base[1], 16),\n\t\t\t\t\tparseInt(base[2] + base[2], 16)\n\t\t\t\t]\n\t\t\t\tif (size === 4) {\n\t\t\t\t\talpha = parseInt(base[3] + base[3], 16) / 255\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tparts = [\n\t\t\t\t\tparseInt(base[0] + base[1], 16),\n\t\t\t\t\tparseInt(base[2] + base[3], 16),\n\t\t\t\t\tparseInt(base[4] + base[5], 16)\n\t\t\t\t]\n\t\t\t\tif (size === 8) {\n\t\t\t\t\talpha = parseInt(base[6] + base[7], 16) / 255\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!parts[0]) parts[0] = 0\n\t\t\tif (!parts[1]) parts[1] = 0\n\t\t\tif (!parts[2]) parts[2] = 0\n\n\t\t\tspace = 'rgb'\n\t\t}\n\n\t\t//color space\n\t\telse if (m = /^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\\s*\\(([^\\)]*)\\)/.exec(cstr)) {\n\t\t\tvar name = m[1]\n\t\t\tvar isRGB = name === 'rgb'\n\t\t\tvar base = name.replace(/a$/, '')\n\t\t\tspace = base\n\t\t\tvar size = base === 'cmyk' ? 4 : base === 'gray' ? 1 : 3\n\t\t\tparts = m[2].trim()\n\t\t\t\t.split(/\\s*[,\\/]\\s*|\\s+/)\n\t\t\t\t.map(function (x, i) {\n\t\t\t\t\t//<percentage>\n\t\t\t\t\tif (/%$/.test(x)) {\n\t\t\t\t\t\t//alpha\n\t\t\t\t\t\tif (i === size) return parseFloat(x) / 100\n\t\t\t\t\t\t//rgb\n\t\t\t\t\t\tif (base === 'rgb') return parseFloat(x) * 255 / 100\n\t\t\t\t\t\treturn parseFloat(x)\n\t\t\t\t\t}\n\t\t\t\t\t//hue\n\t\t\t\t\telse if (base[i] === 'h') {\n\t\t\t\t\t\t//<deg>\n\t\t\t\t\t\tif (/deg$/.test(x)) {\n\t\t\t\t\t\t\treturn parseFloat(x)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//<base-hue>\n\t\t\t\t\t\telse if (baseHues[x] !== undefined) {\n\t\t\t\t\t\t\treturn baseHues[x]\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn parseFloat(x)\n\t\t\t\t})\n\n\t\t\tif (name === base) parts.push(1)\n\t\t\talpha = (isRGB) ? 1 : (parts[size] === undefined) ? 1 : parts[size]\n\t\t\tparts = parts.slice(0, size)\n\t\t}\n\n\t\t//named channels case\n\t\telse if (cstr.length > 10 && /[0-9](?:\\s|\\/)/.test(cstr)) {\n\t\t\tparts = cstr.match(/([0-9]+)/g).map(function (value) {\n\t\t\t\treturn parseFloat(value)\n\t\t\t})\n\n\t\t\tspace = cstr.match(/([a-z])/ig).join('').toLowerCase()\n\t\t}\n\t}\n\n\t//numeric case\n\telse if (!isNaN(cstr)) {\n\t\tspace = 'rgb'\n\t\tparts = [cstr >>> 16, (cstr & 0x00ff00) >>> 8, cstr & 0x0000ff]\n\t}\n\n\t//array-like\n\telse if (Array.isArray(cstr) || cstr.length) {\n\t\tparts = [cstr[0], cstr[1], cstr[2]]\n\t\tspace = 'rgb'\n\t\talpha = cstr.length === 4 ? cstr[3] : 1\n\t}\n\n\t//object case - detects css cases of rgb and hsl\n\telse if (cstr instanceof Object) {\n\t\tif (cstr.r != null || cstr.red != null || cstr.R != null) {\n\t\t\tspace = 'rgb'\n\t\t\tparts = [\n\t\t\t\tcstr.r || cstr.red || cstr.R || 0,\n\t\t\t\tcstr.g || cstr.green || cstr.G || 0,\n\t\t\t\tcstr.b || cstr.blue || cstr.B || 0\n\t\t\t]\n\t\t}\n\t\telse {\n\t\t\tspace = 'hsl'\n\t\t\tparts = [\n\t\t\t\tcstr.h || cstr.hue || cstr.H || 0,\n\t\t\t\tcstr.s || cstr.saturation || cstr.S || 0,\n\t\t\t\tcstr.l || cstr.lightness || cstr.L || cstr.b || cstr.brightness\n\t\t\t]\n\t\t}\n\n\t\talpha = cstr.a || cstr.alpha || cstr.opacity || 1\n\n\t\tif (cstr.opacity != null) alpha /= 100\n\t}\n\n\treturn {\n\t\tspace: space,\n\t\tvalues: parts,\n\t\talpha: alpha\n\t}\n}\n","/**\r\n * @module  color-alpha\r\n */\r\nimport parse from 'color-parse';\r\n\r\nexport default function alpha (color, value) {\r\n\tvar obj = parse(color);\r\n\r\n\tif (value == null) value = obj.alpha;\r\n\r\n\t//catch percent\r\n\tif (obj.space[0] === 'h') {\r\n\t\treturn obj.space + ['a(', obj.values[0], ',', obj.values[1], '%,', obj.values[2], '%,', value, ')'].join('');\r\n\t}\r\n\r\n\treturn obj.space + ['a(', obj.values, ',', value, ')'].join('');\r\n}\r\n","import alpha from \"color-alpha\";\n\nimport { IStrokePart } from \"../types\";\n\nexport class HighlighterTool {\n  readonly color: string;\n  readonly width: number;\n\n  constructor(\n    color: string = \"yellow\",\n    width: number = 8,\n    opacity: number = 0.3,\n  ) {\n    this.width = width;\n\n    // calculate color w/ opacity\n    this.color = alpha(color, opacity);\n  }\n\n  /**\n   * Draws a \"highlighter stroke\" for all line segments\n   * @param ctx\n   * @param strokeParts\n   */\n  public draw(\n    ctx: CanvasRenderingContext2D,\n    strokeParts: IStrokePart[],\n    canvasWidth: number,\n    canvasHeight: number,\n  ): void {\n    const firstPart = strokeParts[0];\n\n    ctx.beginPath();\n\n    ctx.lineWidth = this.width;\n    ctx.strokeStyle = this.color;\n    ctx.lineCap = \"butt\";\n    ctx.miterLimit = 1;\n\n    ctx.moveTo(\n      firstPart.startPoint.x * canvasWidth,\n      firstPart.startPoint.y * canvasHeight,\n    );\n\n    strokeParts.forEach((strokePart) => {\n      const { endPoint } = strokePart;\n      ctx.lineTo(endPoint.x * canvasWidth, endPoint.y * canvasHeight);\n    });\n\n    ctx.stroke();\n  }\n}\n"],"names":["getEuclidean","p1","p2","getUnitVector","startPoint","endPoint","length","dirVect","StrokeManager","canvas","handler","clientX","clientY","rect","e","touch","touches","nextTouch","strokePart","nextMouse","Manager","canvasWidth","canvasHeight","bsr","dpr","width","height","ctx","pixelRatio","tool","PenTool","color","strokeParts","firstPart","EraserTool","handleOpts","halfWidth","unitVect","currentPoint","i","nextPoint","lastPart","lastEndPoint","colorName","baseHues","parse","cstr","m","parts","alpha","space","names","base","size","isShort","name","isRGB","x","value","obj","HighlighterTool","opacity"],"mappings":"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","x_google_ignoreList":[5,6,7]}